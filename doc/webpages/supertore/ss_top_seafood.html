<!DOCTYPE html>
<html>
<head>
<meta charset='UTF-8'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<meta http-equiv='Cache-Control' content='no-cache, no-store, must-revalidate'>
<meta http-equiv='Pragma' content='no-cache'>
<meta http-equiv='Expires' content='0'>
<title>Discounted Items - ss_seafood</title>
<link rel='preconnect' href='https://fonts.googleapis.com'>
<link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
<link href='https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap' rel='stylesheet'>

<!-- Load Chart.js from CDN -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>

<script>
// When DOM content is loaded, add class to body for fade-in effect
document.addEventListener('DOMContentLoaded', function() {
    document.body.classList.add('page-loaded');
    // Make sure detail view is visible and chart view hidden by default
    var detailViews = document.querySelectorAll('.detail-view');
    var chartViews = document.querySelectorAll('.chart-view');
    detailViews.forEach(function(v) {
        v.style.opacity = '1';
    });
    chartViews.forEach(function(v) {
        v.style.opacity = '0';
    });
    // Set global chart data
    window.priceHistoryData = {"20720065_KG": {"1mon": [{"date": "02.19", "was_price": 29.79, "now_price": 20.47}, {"date": "03.05", "was_price": 29.79, "now_price": 20.47}], "1yr": [{"date": "02.19", "was_price": 29.79, "now_price": 20.47}, {"date": "03.05", "was_price": 29.79, "now_price": 20.47}]}, "20852143_KG": {"1mon": [{"date": "02.19", "was_price": 11.95, "now_price": 8.79}, {"date": "03.05", "was_price": 11.95, "now_price": 8.79}], "1yr": [{"date": "02.19", "was_price": 11.95, "now_price": 8.79}, {"date": "03.05", "was_price": 11.95, "now_price": 8.79}]}, "21043887_EA": {"1mon": [{"date": "02.05", "was_price": 9.49, "now_price": 5.99}, {"date": "03.12", "was_price": 9.49, "now_price": 7.0}], "1yr": [{"date": "02.05", "was_price": 9.49, "now_price": 5.99}, {"date": "03.12", "was_price": 9.49, "now_price": 7.0}]}, "21211819_EA": {"1mon": [{"date": "02.05", "was_price": 13.49, "now_price": 9.99}, {"date": "03.05", "was_price": 13.49, "now_price": 9.99}], "1yr": [{"date": "02.05", "was_price": 13.49, "now_price": 9.99}, {"date": "03.05", "was_price": 13.49, "now_price": 9.99}]}, "20750012_EA": {"1mon": [{"date": "02.12", "was_price": 3.99, "now_price": 2.99}, {"date": "03.05", "was_price": 3.99, "now_price": 2.99}], "1yr": [{"date": "02.12", "was_price": 3.99, "now_price": 2.99}, {"date": "03.05", "was_price": 3.99, "now_price": 2.99}]}, "20749901_EA": {"1mon": [{"date": "02.12", "was_price": 3.99, "now_price": 2.99}, {"date": "03.05", "was_price": 3.99, "now_price": 2.99}], "1yr": [{"date": "02.12", "was_price": 3.99, "now_price": 2.99}, {"date": "03.05", "was_price": 3.99, "now_price": 2.99}]}, "20749798_EA": {"1mon": [{"date": "02.12", "was_price": 3.99, "now_price": 2.99}, {"date": "03.05", "was_price": 3.99, "now_price": 2.99}], "1yr": [{"date": "02.12", "was_price": 3.99, "now_price": 2.99}, {"date": "03.05", "was_price": 3.99, "now_price": 2.99}]}, "20699832_EA": {"1mon": [{"date": "02.12", "was_price": 3.99, "now_price": 2.99}, {"date": "03.05", "was_price": 3.99, "now_price": 2.99}], "1yr": [{"date": "02.12", "was_price": 3.99, "now_price": 2.99}, {"date": "03.05", "was_price": 3.99, "now_price": 2.99}]}, "21108887_EA": {"1mon": [{"date": "02.05", "was_price": 10.99, "now_price": 9.99}, {"date": "03.05", "was_price": 10.99, "now_price": 9.99}], "1yr": [{"date": "02.05", "was_price": 10.99, "now_price": 9.99}, {"date": "03.05", "was_price": 10.99, "now_price": 9.99}]}};
});

// Store Chart.js instances by product id
var chartInstances = {};

/**
 * Detail button: show detail view, hide chart view, and reset toggle.
 */
function switchToDetail(btn) {
    var container = btn.closest('.item-container');
    // Set button state
    var buttons = container.querySelectorAll('.vertical-switch-button');
    buttons.forEach(function(b) { b.classList.remove('selected'); });
    btn.classList.add('selected');

    // Disable toggle switch and reset to unchecked
    var toggleSwitch = container.querySelector('.toggle-switch');
    toggleSwitch.classList.add('disabled');
    var toggleInput = container.querySelector('.toggle-input');
    toggleInput.checked = false;
    var toggleLabel = toggleSwitch.querySelector('.toggle-text');
    toggleLabel.textContent = "1 Yr";

    // Show detail view, hide chart view
    var detailView = container.querySelector('.detail-view');
    var chartView = container.querySelector('.chart-view');
    detailView.style.opacity = '1';
    chartView.style.opacity = '0';

    // Destroy any existing chart
    var productId = container.getAttribute('data-product-id');
    if (chartInstances[productId]) {
        chartInstances[productId].destroy();
        delete chartInstances[productId];
    }
}

/**
 * Toggle switch handler:
 * - If checked, hide discount details and show chart view (render 1 Yr line chart).
 * - If unchecked, show discount details and hide chart view (render 1 Mon bar chart).
 */
function toggleMonYr(checkbox) {
    var container = checkbox.closest('.item-container');
    var toggleSwitch = container.querySelector('.toggle-switch');
    if (toggleSwitch.classList.contains('disabled')) {
        toggleSwitch.classList.remove('disabled');
    }

    // Unselect the Detail button
    var detailBtn = container.querySelector('[data-type="detail"]');
    detailBtn.classList.remove('selected');

    // Get the two views
    var detailView = container.querySelector('.detail-view');
    var chartView = container.querySelector('.chart-view');
    var productId = container.getAttribute('data-product-id');
    var toggleLabel = checkbox.nextElementSibling.querySelector('.toggle-text');

    // Destroy any existing chart
    if (chartInstances[productId]) {
        chartInstances[productId].destroy();
        delete chartInstances[productId];
    }

    if (checkbox.checked) {
        // Toggle checked: Show chart view, hide detail view.
        toggleLabel.textContent = "1 Yr";
        detailView.style.opacity = '0';
        chartView.style.opacity = '1';
        var filtered = window.priceHistoryData[productId]["1yr"].filter(d => d.was_price > 0 && d.now_price > 0);
        createLineChart(productId, filtered);
    } else {
        // Toggle unchecked: Show detail view, hide chart view.
        toggleLabel.textContent = "1 Mon";
        detailView.style.opacity = '1';
        chartView.style.opacity = '0';
        var filtered = window.priceHistoryData[productId]["1mon"].filter(d => d.was_price > 0 && d.now_price > 0);
        createStackedBarChart(productId, filtered);
    }
}

/**
 * Touch fallback for iOS Safari.
 */
function toggleMonYrTouch(checkbox) {
    toggleMonYr(checkbox);
}

/**
 * Creates a stacked bar chart using Chart.js for 1 Mon data.
 */
function createStackedBarChart(productId, data) {
    var ctx = document.getElementById('canvas-' + productId).getContext('2d');
    if (!data || data.length === 0) {
        ctx.font = "14px Arial";
        ctx.fillText("No 1 Mon data", 10, 50);
        return;
    }
    chartInstances[productId] = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: data.map(d => d.date),
            datasets: [
                {
                    label: 'Now Price',
                    data: data.map(d => d.now_price),
                    backgroundColor: '#009900',
                    stack: 'Stack 0'
                },
                {
                    label: 'Was Price',
                    data: data.map(d => d.was_price - d.now_price),
                    backgroundColor: '#FF9900',
                    stack: 'Stack 0'
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                x: {
                    stacked: true,
                    title: {
                        display: true,
                        text: 'Date'
                    }
                },
                y: {
                    stacked: true,
                    title: {
                        display: true,
                        text: 'Price'
                    },
                    beginAtZero: true
                }
            }
        }
    });
}

/**
 * Creates a two-line chart using Chart.js for 1 Yr data.
 */
function createLineChart(productId, data) {
    var ctx = document.getElementById('canvas-' + productId).getContext('2d');
    if (!data || data.length === 0) {
        ctx.font = "14px Arial";
        ctx.fillText("No 1 Yr data", 10, 50);
        return;
    }
    chartInstances[productId] = new Chart(ctx, {
        type: 'line',
        data: {
            labels: data.map(d => d.date),
            datasets: [
                {
                    label: 'Was Price',
                    data: data.map(d => d.was_price),
                    borderColor: '#0077cc',
                    backgroundColor: '#0077cc',
                    fill: false,
                    tension: 0.1
                },
                {
                    label: 'Now Price',
                    data: data.map(d => d.now_price),
                    borderColor: '#009900',
                    backgroundColor: '#009900',
                    fill: false,
                    tension: 0.1
                }
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
                x: {
                    title: {
                        display: true,
                        text: 'Date'
                    }
                },
                y: {
                    title: {
                        display: true,
                        text: 'Price'
                    },
                    beginAtZero: true
                }
            }
        }
    });
}
</script>

</head>
<body>
<div class="header-container">
  <div class="header-row">
    <button class="search-button" onclick="showSearchBar()">
      <span class="search-icon">🔍</span> FIND ➜
    </button>
    <div class="page-title">ss_seafood</div>
  </div>
  <div class="creation-time">Created on: 2025-02-28 19:53:13</div>
</div>
<hr class="divider">
<div class="header-spacer"></div>

<div id="searchBarContainer">
  <input type="text" id="searchInput" placeholder="Search in page..." onkeyup="inPageSearch()">
  <span id="searchCount"></span>
  <button id="closeSearchButton" onclick="hideSearchBar()">×</button>
</div>


<div class="item-container" data-product-id="20720065_KG">
  
  <div class="left-side">
    <div class="item-image">
      <img src='https://assets.shop.loblaws.ca/products/20720065/b3/en/beauty/20720065_beauty_a06_@2.png' alt='Fresh Atlantic Salmon Fillets, Skin On, Packaged, Club Size' />
    </div>
    <!-- "Detail" button -->
    <button class="vertical-switch-button selected fade-on-load" data-type="detail" onclick="switchToDetail(this)">On Sale</button>
    <!-- Toggle switch -->
    <div class="toggle-switch disabled" data-product-id="20720065_KG">
      <input type="checkbox" class="toggle-input" id="toggle-20720065_KG" onchange="toggleMonYr(this)" ontouchend="toggleMonYrTouch(this)">
      <label class="toggle-label" for="toggle-20720065_KG">
        <span class="toggle-circle"></span>
        <span class="toggle-text">1 Yr</span>
      </label>
    </div>
  </div>
        
  
  <div class="right-side">
    <div class="view-container">
      <div class="detail-view" id="detail-20720065_KG">
        
          <div class="item-name">
            <span class="item-number">#1</span>
            <span class="first-word">Fresh</span>
            <span class="product-name-text">Atlantic Salmon Fillets, Skin On, Packaged, Club Size</span>
          </div>
          <div>Expire On: 2025-03-05</div>
          <div>WAS: <span class="was-price">$ 29.79</span></div>
          <div class="now-price">NOW: $ 20.47</div>
          <div class="discount-badge">31.3% OFF</div>
        
      </div>
      <div class="chart-view" id="chart-20720065_KG">
        <canvas id="canvas-20720065_KG" width="400" height="200"></canvas>
      </div>
    </div>
  </div>
        
</div>

<div class="item-container" data-product-id="20852143_KG">
  
  <div class="left-side">
    <div class="item-image">
      <img src='https://assets.shop.loblaws.ca/products/20852143/b3/en/angle/20852143_angle_a06_@2.png' alt='Fresh Atlantic Salmon Fillets, Skin On, Packaged' />
    </div>
    <!-- "Detail" button -->
    <button class="vertical-switch-button selected fade-on-load" data-type="detail" onclick="switchToDetail(this)">On Sale</button>
    <!-- Toggle switch -->
    <div class="toggle-switch disabled" data-product-id="20852143_KG">
      <input type="checkbox" class="toggle-input" id="toggle-20852143_KG" onchange="toggleMonYr(this)" ontouchend="toggleMonYrTouch(this)">
      <label class="toggle-label" for="toggle-20852143_KG">
        <span class="toggle-circle"></span>
        <span class="toggle-text">1 Yr</span>
      </label>
    </div>
  </div>
        
  
  <div class="right-side">
    <div class="view-container">
      <div class="detail-view" id="detail-20852143_KG">
        
          <div class="item-name">
            <span class="item-number">#2</span>
            <span class="first-word">Fresh</span>
            <span class="product-name-text">Atlantic Salmon Fillets, Skin On, Packaged</span>
          </div>
          <div>Expire On: 2025-03-05</div>
          <div>WAS: <span class="was-price">$ 11.95</span></div>
          <div class="now-price">NOW: $ 8.79</div>
          <div class="discount-badge">26.4% OFF</div>
        
      </div>
      <div class="chart-view" id="chart-20852143_KG">
        <canvas id="canvas-20852143_KG" width="400" height="200"></canvas>
      </div>
    </div>
  </div>
        
</div>

<div class="item-container" data-product-id="21043887_EA">
  
  <div class="left-side">
    <div class="item-image">
      <img src='https://assets.shop.loblaws.ca/products/21043887/b3/en/angle/21043887_angle_a06_@2.png' alt='Pacific White Shrimp Raw 16-20/LB' />
    </div>
    <!-- "Detail" button -->
    <button class="vertical-switch-button selected fade-on-load" data-type="detail" onclick="switchToDetail(this)">On Sale</button>
    <!-- Toggle switch -->
    <div class="toggle-switch disabled" data-product-id="21043887_EA">
      <input type="checkbox" class="toggle-input" id="toggle-21043887_EA" onchange="toggleMonYr(this)" ontouchend="toggleMonYrTouch(this)">
      <label class="toggle-label" for="toggle-21043887_EA">
        <span class="toggle-circle"></span>
        <span class="toggle-text">1 Yr</span>
      </label>
    </div>
  </div>
        
  
  <div class="right-side">
    <div class="view-container">
      <div class="detail-view" id="detail-21043887_EA">
        
          <div class="item-name">
            <span class="item-number">#3</span>
            <span class="first-word">Pacific</span>
            <span class="product-name-text">White Shrimp Raw 16-20/LB</span>
          </div>
          <div>Expire On: 2025-03-12</div>
          <div>WAS: <span class="was-price">$ 9.49</span></div>
          <div class="now-price">NOW: $ 7.00</div>
          <div class="discount-badge">26.2% OFF</div>
        
      </div>
      <div class="chart-view" id="chart-21043887_EA">
        <canvas id="canvas-21043887_EA" width="400" height="200"></canvas>
      </div>
    </div>
  </div>
        
</div>

<div class="item-container" data-product-id="21211819_EA">
  
  <div class="left-side">
    <div class="item-image">
      <img src='https://assets.shop.loblaws.ca/products/21211819/b3/en/front/21211819_front_a06_@2.png' alt='Wild Yellowfin Tuna Skinless Boneless Steaks, Sustainably Sourced 280g' />
    </div>
    <!-- "Detail" button -->
    <button class="vertical-switch-button selected fade-on-load" data-type="detail" onclick="switchToDetail(this)">On Sale</button>
    <!-- Toggle switch -->
    <div class="toggle-switch disabled" data-product-id="21211819_EA">
      <input type="checkbox" class="toggle-input" id="toggle-21211819_EA" onchange="toggleMonYr(this)" ontouchend="toggleMonYrTouch(this)">
      <label class="toggle-label" for="toggle-21211819_EA">
        <span class="toggle-circle"></span>
        <span class="toggle-text">1 Yr</span>
      </label>
    </div>
  </div>
        
  
  <div class="right-side">
    <div class="view-container">
      <div class="detail-view" id="detail-21211819_EA">
        
          <div class="item-name">
            <span class="item-number">#4</span>
            <span class="first-word">Wild</span>
            <span class="product-name-text">Yellowfin Tuna Skinless Boneless Steaks, Sustainably Sourced 280g</span>
          </div>
          <div>Expire On: 2025-03-05</div>
          <div>WAS: <span class="was-price">$ 13.49</span></div>
          <div class="now-price">NOW: $ 9.99</div>
          <div class="discount-badge">25.9% OFF</div>
        
      </div>
      <div class="chart-view" id="chart-21211819_EA">
        <canvas id="canvas-21211819_EA" width="400" height="200"></canvas>
      </div>
    </div>
  </div>
        
</div>

<div class="item-container" data-product-id="20750012_EA">
  
  <div class="left-side">
    <div class="item-image">
      <img src='https://assets.shop.loblaws.ca/products/20750012/b3/en/angle/20750012_angle_a06_@2.png' alt='Crab Flavoured Wild Alaska Pollock Chunks' />
    </div>
    <!-- "Detail" button -->
    <button class="vertical-switch-button selected fade-on-load" data-type="detail" onclick="switchToDetail(this)">On Sale</button>
    <!-- Toggle switch -->
    <div class="toggle-switch disabled" data-product-id="20750012_EA">
      <input type="checkbox" class="toggle-input" id="toggle-20750012_EA" onchange="toggleMonYr(this)" ontouchend="toggleMonYrTouch(this)">
      <label class="toggle-label" for="toggle-20750012_EA">
        <span class="toggle-circle"></span>
        <span class="toggle-text">1 Yr</span>
      </label>
    </div>
  </div>
        
  
  <div class="right-side">
    <div class="view-container">
      <div class="detail-view" id="detail-20750012_EA">
        
          <div class="item-name">
            <span class="item-number">#5</span>
            <span class="first-word">Crab</span>
            <span class="product-name-text">Flavoured Wild Alaska Pollock Chunks</span>
          </div>
          <div>Expire On: 2025-03-05</div>
          <div>WAS: <span class="was-price">$ 3.99</span></div>
          <div class="now-price">NOW: $ 2.99</div>
          <div class="discount-badge">25.1% OFF</div>
        
      </div>
      <div class="chart-view" id="chart-20750012_EA">
        <canvas id="canvas-20750012_EA" width="400" height="200"></canvas>
      </div>
    </div>
  </div>
        
</div>

<div class="item-container" data-product-id="20749901_EA">
  
  <div class="left-side">
    <div class="item-image">
      <img src='https://assets.shop.loblaws.ca/products/20749901/b3/en/front/20749901_front_a06_@2.png' alt='Lobster Flavoured Wild Alaska Pollock Chunks' />
    </div>
    <!-- "Detail" button -->
    <button class="vertical-switch-button selected fade-on-load" data-type="detail" onclick="switchToDetail(this)">On Sale</button>
    <!-- Toggle switch -->
    <div class="toggle-switch disabled" data-product-id="20749901_EA">
      <input type="checkbox" class="toggle-input" id="toggle-20749901_EA" onchange="toggleMonYr(this)" ontouchend="toggleMonYrTouch(this)">
      <label class="toggle-label" for="toggle-20749901_EA">
        <span class="toggle-circle"></span>
        <span class="toggle-text">1 Yr</span>
      </label>
    </div>
  </div>
        
  
  <div class="right-side">
    <div class="view-container">
      <div class="detail-view" id="detail-20749901_EA">
        
          <div class="item-name">
            <span class="item-number">#6</span>
            <span class="first-word">Lobster</span>
            <span class="product-name-text">Flavoured Wild Alaska Pollock Chunks</span>
          </div>
          <div>Expire On: 2025-03-05</div>
          <div>WAS: <span class="was-price">$ 3.99</span></div>
          <div class="now-price">NOW: $ 2.99</div>
          <div class="discount-badge">25.1% OFF</div>
        
      </div>
      <div class="chart-view" id="chart-20749901_EA">
        <canvas id="canvas-20749901_EA" width="400" height="200"></canvas>
      </div>
    </div>
  </div>
        
</div>

<div class="item-container" data-product-id="20749798_EA">
  
  <div class="left-side">
    <div class="item-image">
      <img src='https://assets.shop.loblaws.ca/products/20749798/b3/en/angle/20749798_angle_a06_@2.png' alt='Leg-Style Crab Flavoured Wild Alaska Pollock and Wild Pacific Whiting' />
    </div>
    <!-- "Detail" button -->
    <button class="vertical-switch-button selected fade-on-load" data-type="detail" onclick="switchToDetail(this)">On Sale</button>
    <!-- Toggle switch -->
    <div class="toggle-switch disabled" data-product-id="20749798_EA">
      <input type="checkbox" class="toggle-input" id="toggle-20749798_EA" onchange="toggleMonYr(this)" ontouchend="toggleMonYrTouch(this)">
      <label class="toggle-label" for="toggle-20749798_EA">
        <span class="toggle-circle"></span>
        <span class="toggle-text">1 Yr</span>
      </label>
    </div>
  </div>
        
  
  <div class="right-side">
    <div class="view-container">
      <div class="detail-view" id="detail-20749798_EA">
        
          <div class="item-name">
            <span class="item-number">#7</span>
            <span class="first-word">Leg-Style</span>
            <span class="product-name-text">Crab Flavoured Wild Alaska Pollock and Wild Pacific Whiting</span>
          </div>
          <div>Expire On: 2025-03-05</div>
          <div>WAS: <span class="was-price">$ 3.99</span></div>
          <div class="now-price">NOW: $ 2.99</div>
          <div class="discount-badge">25.1% OFF</div>
        
      </div>
      <div class="chart-view" id="chart-20749798_EA">
        <canvas id="canvas-20749798_EA" width="400" height="200"></canvas>
      </div>
    </div>
  </div>
        
</div>

<div class="item-container" data-product-id="20699832_EA">
  
  <div class="left-side">
    <div class="item-image">
      <img src='https://assets.shop.loblaws.ca/products/20699832/b3/en/angle/20699832_angle_a06_@2.png' alt='Flake-Style Crab Flavoured Wild Alaska Pollock and Wild Pacific Whiting' />
    </div>
    <!-- "Detail" button -->
    <button class="vertical-switch-button selected fade-on-load" data-type="detail" onclick="switchToDetail(this)">On Sale</button>
    <!-- Toggle switch -->
    <div class="toggle-switch disabled" data-product-id="20699832_EA">
      <input type="checkbox" class="toggle-input" id="toggle-20699832_EA" onchange="toggleMonYr(this)" ontouchend="toggleMonYrTouch(this)">
      <label class="toggle-label" for="toggle-20699832_EA">
        <span class="toggle-circle"></span>
        <span class="toggle-text">1 Yr</span>
      </label>
    </div>
  </div>
        
  
  <div class="right-side">
    <div class="view-container">
      <div class="detail-view" id="detail-20699832_EA">
        
          <div class="item-name">
            <span class="item-number">#8</span>
            <span class="first-word">Flake-Style</span>
            <span class="product-name-text">Crab Flavoured Wild Alaska Pollock and Wild Pacific Whiting</span>
          </div>
          <div>Expire On: 2025-03-05</div>
          <div>WAS: <span class="was-price">$ 3.99</span></div>
          <div class="now-price">NOW: $ 2.99</div>
          <div class="discount-badge">25.1% OFF</div>
        
      </div>
      <div class="chart-view" id="chart-20699832_EA">
        <canvas id="canvas-20699832_EA" width="400" height="200"></canvas>
      </div>
    </div>
  </div>
        
</div>

<div class="item-container" data-product-id="21108887_EA">
  
  <div class="left-side">
    <div class="item-image">
      <img src='https://assets.shop.loblaws.ca/products/21108887/b3/en/angle/21108887_angle_a06_@2.png' alt='Breaded Cod Bites With Sauce' />
    </div>
    <!-- "Detail" button -->
    <button class="vertical-switch-button selected fade-on-load" data-type="detail" onclick="switchToDetail(this)">On Sale</button>
    <!-- Toggle switch -->
    <div class="toggle-switch disabled" data-product-id="21108887_EA">
      <input type="checkbox" class="toggle-input" id="toggle-21108887_EA" onchange="toggleMonYr(this)" ontouchend="toggleMonYrTouch(this)">
      <label class="toggle-label" for="toggle-21108887_EA">
        <span class="toggle-circle"></span>
        <span class="toggle-text">1 Yr</span>
      </label>
    </div>
  </div>
        
  
  <div class="right-side">
    <div class="view-container">
      <div class="detail-view" id="detail-21108887_EA">
        
          <div class="item-name">
            <span class="item-number">#9</span>
            <span class="first-word">Breaded</span>
            <span class="product-name-text">Cod Bites With Sauce</span>
          </div>
          <div>Expire On: 2025-03-05</div>
          <div>WAS: <span class="was-price">$ 10.99</span></div>
          <div class="now-price">NOW: $ 9.99</div>
          <div class="discount-badge">9.1% OFF</div>
        
      </div>
      <div class="chart-view" id="chart-21108887_EA">
        <canvas id="canvas-21108887_EA" width="400" height="200"></canvas>
      </div>
    </div>
  </div>
        
</div>


<script>
function showSearchBar() {
    var header = document.querySelector('.header-container');
    header.style.display = 'none';
    var searchBar = document.getElementById('searchBarContainer');
    searchBar.style.display = 'flex';
    setTimeout(function() {
        searchBar.style.opacity = '1';
    }, 10);
    document.getElementById('searchInput').focus();
}

function hideSearchBar() {
    var searchBar = document.getElementById('searchBarContainer');
    var header = document.querySelector('.header-container');
    var searchInput = document.getElementById('searchInput');
    searchInput.value = '';
    var firstElems = document.getElementsByClassName('first-word');
    var secondElems = document.getElementsByClassName('product-name-text');
    for (var i = 0; i < firstElems.length; i++) {
        firstElems[i].innerHTML = firstElems[i].dataset.original || firstElems[i].innerHTML;
    }
    for (var i = 0; i < secondElems.length; i++) {
        secondElems[i].innerHTML = secondElems[i].dataset.original || secondElems[i].innerHTML;
    }
    var items = document.getElementsByClassName('item-container');
    for (var i = 0; i < items.length; i++) {
        items[i].style.display = "";
    }
    document.getElementById('searchCount').innerText = "";
    searchBar.style.opacity = '0';
    setTimeout(function() {
        searchBar.style.display = 'none';
        header.style.display = 'flex';
    }, 500);
}

function inPageSearch() {
    var input = document.getElementById('searchInput').value.trim();
    var term = input.toLowerCase();
    var items = document.getElementsByClassName('item-container');
    var visibleCount = 0;
    for (var i = 0; i < items.length; i++) {
        var firstElem = items[i].querySelector('.first-word');
        var secondElem = items[i].querySelector('.product-name-text');
        var fullName = (firstElem.textContent + ' ' + secondElem.textContent).toLowerCase();
        if (term === '' || fullName.indexOf(term) > -1) {
            items[i].style.display = '';
            visibleCount++;
            if (term !== '') {
                firstElem.innerHTML = (firstElem.dataset.original || firstElem.textContent).replace(new RegExp('('+term+')', 'gi'), '<mark>$1</mark>');
                secondElem.innerHTML = (secondElem.dataset.original || secondElem.textContent).replace(new RegExp('('+term+')', 'gi'), '<mark>$1</mark>');
            } else {
                firstElem.innerHTML = firstElem.dataset.original || firstElem.innerHTML;
                secondElem.innerHTML = secondElem.dataset.original || secondElem.innerHTML;
            }
        } else {
            items[i].style.display = 'none';
        }
    }
    document.getElementById('searchCount').innerText = visibleCount + " found";
}
</script>

</body>
</html>
